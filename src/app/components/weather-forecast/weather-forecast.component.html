<div class="background">
  <div class="left-col">
    <div [ngStyle]="{'background-image': getBackgroundImage()}" class="current-weather">

      <div class="dropdown">
        <mat-icon> location_on</mat-icon>
        <mat-select
          [(ngModel)]="selectedSite"
          (selectionChange)="onDropdownChange($event)"
        >
          <mat-option *ngFor="let site of allSites" [value]="site">
            {{ site.siteName | translate }}
          </mat-option>
        </mat-select>
      </div>

      <div class="row">
        <div class="temperature">
          <ng-container [ngSwitch]="weatherCondition">
            <img *ngSwitchCase="WeatherCondition.sunny" ngSrc="assets/img/sun-icon.png" height="128" width="128" alt="Sunny">
            <img *ngSwitchCase="WeatherCondition.partly_cloudy" ngSrc="assets/img/partly-cloudy.png" height="128" width="128" alt="Partly Cloudy">
            <img *ngSwitchCase="WeatherCondition.cloudy" ngSrc="assets/img/clouds.png" height="128" width="128" alt="Cloudy">
            <img *ngSwitchCase="WeatherCondition.rainy" ngSrc="assets/img/rain-clouds.png" height="128" width="128" alt="Rainy">
            <img *ngSwitchCase="WeatherCondition.windy" ngSrc="assets/img/windy.png" height="128" width="128" alt="Windy">
            <img *ngSwitchCase="WeatherCondition.snowy" ngSrc="assets/img/snowy.png" height="128" width="128" alt="Snowy">
            <img *ngSwitchCase="WeatherCondition.foggy" ngSrc="assets/img/fog-clouds.png" height="128" width="128" alt="Foggy">
          </ng-container>
          <div class="temperature-text">{{ temperature }}°</div>
        </div>
        <div class="weather-info">
          <div class="humidity">
            <mat-icon>water_drop</mat-icon>
            {{ 'Humidity'}}: {{ humidity }}%
          </div>
          <div class="wind-speed">
            <mat-icon>air</mat-icon>
            {{ 'Wind Speed'}}: {{ windSpeed }} {{ 'km/h' | translate }}
          </div>
          <div class="wind-direction">
            <mat-icon>explore</mat-icon>
            {{ 'Wind Direction' }}:
            <mat-icon [style.transform]="getWindArrowRotation()">arrow_forward</mat-icon>
          </div>
          <div class="uv-level">
            <mat-icon>flare</mat-icon>
            {{'Global Radiation'}}: {{ radiation }} w/m<sup>2</sup>
          </div>
        </div>
        <div class="weather-info">
          <div class="max-temp">
            <mat-icon>add</mat-icon>
            {{ 'Max temperature'}}: {{ maxTemp }}°
          </div>
          <div class="min-temp">
            <mat-icon>remove</mat-icon>
            {{ 'Min temperature'}}: {{ minTemp }}°</div>
          <div class="rain">
            <mat-icon>thunderstorm</mat-icon>
            {{ 'Rain'}}: {{ rain }} mm</div>
          <div class="pressure">
            <mat-icon>compare_arrows</mat-icon>
            {{ 'Pressure'}}: {{ pressure }} hPa</div>
        </div>
      </div>
    </div>
    <div class="widgets">
      <app-alerts></app-alerts>
      <app-air-quality></app-air-quality>
    </div>
  </div>
  <div class="map">
    <iframe class="map-file" src="/assets/map/map2.html" width="800" height="845" style="border:none;" seamless="seamless"></iframe>
  </div>
</div>
